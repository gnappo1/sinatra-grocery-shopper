require './config/environment'

class ListController < ApplicationController


  get "/lists" do
    erb :"lists/index"
  end

  get "/lists/new" do
    erb :"lists/new"
  end

  post "/lists" do
    @list = List.create(name: params[:name], creation_date: params[:creation_date], items_quantities: params[:items_quantities], notes: params[:notes])
    @list.client_id = current_client.id
    @list.shopper_id = current_client.shopper.id
    @list.save ? (redirect to "/lists") : (redirect to "/lists/new")
  end

  get "/lists/:id" do
    @list = List.find_by_id(params[:id])
    erb :"lists/show"
  end

end
